// ==UserScript==
// @name         --- â†’ Random Reply (fixAll)
// @namespace    prozi
// @version      0.4
// @description  ×ž×’×™×‘ ×¨× ×“×•×ž×œ×™×ª ×›×©×›×•×ª×‘×™× ---
// @match        https://mail.google.com/*
// @match        https://chat.google.com/*
// @run-at       document-end
// @grant        none
// ==/UserScript==

(() => {
  console.log("ðŸ”¥ TM script bootingâ€¦");

  const RESPONSES = [
  // ××—×“â€“×ž×™×œ×”
  "×¡×‘×‘×”", "××•×©×¨", "×‘×¨×•×¨", "×œ×’×ž×¨×™", "××•×œ×™", "×‘×˜×•×—", "×—×ž×•×“", "×•×•××œ×”", "× ×•", "×§×•×œ",

  // ×©×ª×™×™×â€“×©×œ×•×© ×ž×™×œ×™×
  "×”×’×™×•× ×™ ×‘×”×—×œ×˜", "× ×©×ž×¢ ×ž×¢× ×™×™×Ÿ", "×œ× ×™×•×“×¢ ðŸ¤·â€â™‚ï¸", "× ×¨××” ×œ×™", "××¤×©×¨×™ ×œ×’×ž×¨×™", "××™×Ÿ ×ª×œ×•× ×•×ª", "×–×” ×¨×¢×™×•×Ÿ", "×¢×œ ×”×›×™×¤××§", "×©×•×•×” ×‘×“×™×§×”", "× ×–×¨×•× ×¢× ×–×”",
  "×ª×œ×•×™ ×‘×–×•×•×™×ª", "××—×œ×” ×›×™×•×•×Ÿ", "×¡×‘×™×¨ ×œ×”× ×™×—", "×œ× ×‘×˜×•×—", "×›×‘×¨ ×‘×“×¨×š", "×–×” ×ž×©×”×•", "×ž×¨×™× ×’×‘×”", "×™××œ×œ×” ×¡×‘×‘×”", "×—×¦×™ ×›×•×—", "×¤×—×•×ª ×ž×ª×—×‘×¨",

  // ×¢× ××•×¤×™ ×§×¦×ª ×™×•×ª×¨ â€œ×¦×™× ×™â€
  "×”×ª×§×“×ž×•×ª ××“×™×¨×”...", "××– ×›×›×”?", "× ×• ×‘××ž×ª", "×–×” ×›×œ ×”×¡×™×¤×•×¨?", "×ž×” × ×¡×’×¨", "×× ×™ ×‘×©×•×§", "×—×‘×™×‘ × ×¨××” ×œ×¢×™×Ÿ", "×ª×Ÿ ×œ×—×©×•×‘ ×¢×œ ×–×”", "× ×§×œ×˜ ×¨×©×•×", "×‘×“×•×§ × ×¨×©×",
  "×”×¤×ª×¢×ª ××•×ª×™", "×–×• ×”×©×™×˜×”?", "×’× ×–×• ×œ×˜×•×‘×”", "× ×¨××” ×ž××ª×’×¨", "×—×¦×™Ö¾×—×¦×™", "×”× ×— ×œ×–×”", "×ž×ª×™×©×§×•×œ", "×§×™×‘×œ×ª×™ ×ª×–×›×•×¨×ª", "×©×•×•×” ×¦×™×•×Ÿ", "× ×ª×§×“× ×”×œ××”",

  // ×¢× ××™×ž×•×’'×™× ×œ×ª×‘×œ
  "ðŸ‘Œ", "ðŸ‘", "ðŸ¤”", "ðŸ˜…", "ðŸ˜Ž", "ðŸ™„", "ðŸ¤·â€â™€ï¸", "ðŸ¤·â€â™‚ï¸", "ðŸš€", "ðŸŒŸ",
  "â³", "ðŸ’¡", "ðŸ”¥", "ðŸ§", "ðŸ¤«", "ðŸ˜´", "ðŸ¤–", "ðŸ’ª", "ðŸ¥²", "ðŸ¤",

  // â€œ×ž×©×¤×˜×™ ×©×™×¨×•×ªâ€ ×¡×˜×™×™×œ ×‘×•×˜
  "×”×‘×§×©×” ×”×ª×§×‘×œ×” ×‘×ž×¢×¨×›×ª", "×ž×˜×¤×œ ×‘×–×”", "×ž×—×¤×© ×¤×ª×¨×•×Ÿ", "×¨×•×©× ×œ×¢×¦×ž×™", "×”×•×¢×‘×¨ ×œ×ž×—×œ×§×ª ×”×ž×ª× ×”", "×ª×•×“×” ×¢×œ ×”×¤×™×“×‘×§", "×¢×•×“ ×¨×’×¢ ×—×•×–×¨ ××œ×™×š", "×‘×‘×“×™×§×”", "×¢×•×“×›×Ÿ ×‘×”×¦×œ×—×”", "×¡×’×•×¨ ×œ×˜×™×¤×•×œ",

  // ×¨×˜×•×¨×™×§×” ×¨×™×§×” (×›×©×œ× ×¨×•×¦×™× ×œ×”×ª×—×™×™×‘)
  "×©××œ×” ×ž×¦×•×™× ×ª", "×ª×œ×•×™ ×‘×™×•×", "× ×¨××” ×‘×”×ž×©×š", "×™×™×ª×›×Ÿ ×•×›×Ÿ", "× ×—×™×” ×•× ×¨××”", "× ×’×œ×” ×‘×”×ž×©×š", "× ×¢× ×” ×‘×¤×¨×˜×™", "×œ× ×¡×’×•×¨ ×¢×œ ×–×”", "× ×‘×“×•×§ ×œ×¢×•×ž×§", "×—×›×” ×•×ª×¨××”",

  // ×¡×™×•×ž×•×ª ×”×•×ž×•×¨×™×¡×˜×™×•×ª
  "×™××œ×œ×” ×ž×™×œ×”", "× ×™×¤×’×© ×‘×§×¤×”", "×¢× ×”×™×“ ×¢×œ ×”×œ×‘", "×¢×œ ××—×¨×™×•×ª×š", "×ž× ×•×£ ×œ×”×¨×ž×ª ×ž×¦×‘ ×¨×•×—", "×‘×™×™ ×‘×™× ×ª×™×™×", "×× ×ª×¨×¦×” ×™×© ×¢×•×“", "×¡×•×“×•×ª ×”×ž×§×¦×•×¢ ðŸ¤", "× ×ž×©×™×š ××—×¨×™ ×”×¤×¨×¡×•×ž×•×ª", "×©×œ×— ×¢×•×“ × ×ª×•× ×™×",

  // ×‘×× ×’×œ×™×ª ×›×“×™ ×œ×’×•×•×Ÿ
  "Sounds good", "Makes sense", "Fair enough", "Not sure", "Why not?", "Deal", "Let me think", "Good question", "Works for me", "On it"
];

  // ×ž××–×™×Ÿ ×’×œ×•×‘×œ×™ â€“ ×›×œ ××œ×ž× ×˜ ×©× ×›× ×¡ ×œ×¤×•×§×•×¡ ×•× ×¢×¨×š
  window.addEventListener("focusin", ev => {
    const el = ev.target;
    if (!el.isContentEditable || el.dataset.tmDone) return;
    el.dataset.tmDone = 1;

    el.addEventListener("keydown", e => {
      if (e.key !== "Enter") return;
      if (el.textContent.trim() !== "---") return;

      e.stopImmediatePropagation();
      e.preventDefault();

      el.textContent = RESPONSES[Math.random() * RESPONSES.length | 0];

      el.dispatchEvent(new KeyboardEvent("keydown", {
        key:"Enter", code:"Enter", keyCode:13, which:13,
        bubbles:true, cancelable:true
      }));
    }, true);
  });
})();

